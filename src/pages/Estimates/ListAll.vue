<template>  
  <q-page class="page-estimates page-estimates-all-project">
    <div class="row justify-between items-center">
      <div class="text-h2">–°–º–µ—Ç—ã</div>
    </div> 

    <q-expansion-item
      expand-separator
      default-opened
      class="q-expansion-my"
      v-for="table in tables"
      :key="table.id"
    >
      <template v-slot:header>
        <div class="title">
          üè∞ –£—Å–ª–æ–≤–∏—è —Ä–∞–±–æ—Ç—ã —Å –¥–∏–∑–∞–π–Ω–µ—Ä–∞–º–∏
        </div>
        <q-btn flat padding="0" no-caps label="–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç" class="btn-open q-ml-auto" @click.stop />
      </template>

      <q-table
        flat
        :rows="rows"
        :columns="columns"
        row-key="id"
        hide-pagination
        class="my-table project-table table-head-no-pdd table-list"
      >
        <template v-slot:header-cell-id="props">
          <q-th :props="props" class="q-th__id">
          </q-th>
        </template>
        <template v-slot:header-cell-action="props">
          <q-th :props="props">
          </q-th>
        </template>
        <template v-slot:header-cell="props">
          <q-th :props="props">
            <span class="q-th__title">
              {{ props.col.label }}
            </span>
            <i
              class="notranslate material-icons q-icon q-table__sort-icon q-table__sort-icon--left"
              aria-hidden="true"
              role="presentation"
            >
              <q-icon size="7px" color="grey-5" name="svguse:icons/financeTable.svg#tableArrrow" />
            </i>
          </q-th>
        </template>
        

        <template #body="props">
          <q-tr class="tr-all">
            <q-td
              key="name"
              :props="props"
              class="q-td-name"
              style="width: 65%"
            >
              <div class="content">–û–±—â–∞—è —Å–º–µ—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞</div>
            </q-td>
            <q-td
              key="changed"
              :props="props"
              class="q-td-changed"
            >
              <div class="content" style="width: 102px;">–°—É–º–º–∞ –≤—Å–µ—Ö –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–º–µ—Ç</div>
            </q-td>
            <q-td
              key="created"
              :props="props"
              class="q-td-created"
            >
              <div class="content"></div>
            </q-td>
            <q-td
              key="security"
              :props="props"
              class="q-td-status"
            >
              <div class="content">
                
              </div>
            </q-td>
          </q-tr>

          <q-tr
            :props="props"
          >
            <q-td
              key="name"
              :props="props"
              class="q-td-name"
              style="width: 65%"
            >
              <div class="content row">
                {{props.row.name}}
                <div class="row" style="flex: 1;">
                  <q-btn
                    rounded
                    unelevated
                    no-caps
                    padding="2px 15px"
                    style="width: max-content;height: 19px;border-radius: 13px;"
                    class="bg-negative my-btn my-btn-14 no-cursor q-ml-xs btn-new q-ml-sm btn-new-single"
                  >
                    <span class="block text-white" style="font-size:10px;">–ù–æ–≤–∞—è</span>
                  </q-btn>
                  <q-btn
                    rounded
                    unelevated
                    no-caps
                    padding="2px 24px"
                    style="width: max-content;height: 19px;border-radius: 13px;"
                    class="bg-negative my-btn my-btn-14 no-cursor q-ml-xs btn-new q-ml-auto q-mr-md btn-new-all"
                  >
                    <span class="block text-white" style="font-size:10px;">–ù–æ–≤—ã—Ö: 2</span>
                  </q-btn>
                </div>
              </div>
              
            </q-td>
            <q-td
              key="changed"
              :props="props"
              class="q-td-changed"
            >
              <div class="content">{{props.row.changed}}</div>
            </q-td>
            <q-td
              key="created"
              :props="props"
              class="q-td-created"
            >
              <div class="content">{{props.row.created}}</div>
            </q-td>
            <q-td
              key="security"
              :props="props"
              class="q-td-security"
            >
              <div class="content row flex-wrap" style="width: 196px;">
                <span
                  v-for="el in props.row.security"
                  :key="el"
                >
                  {{ el }},
                </span>
              </div>
            </q-td>
            
          </q-tr>
        </template>
        <template #bottom>
          <q-tr
            :props="props"
          >
            <q-btn
              unelevated
              no-caps
              class="bg-grey-3 text-grey-5 my-btn my-effect h-dark-lite mb-visible"
            >
              <div class="block">–ù–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –∏–∑ —à–∞–±–ª–æ–Ω–æ–≤</div>
              <q-icon name="svguse:icons/allIcons.svg#plus" size="12px" />
            </q-btn>
          </q-tr>
        </template>
      </q-table>

    </q-expansion-item>
  </q-page>
</template>

<script setup>
import { ref } from 'vue'

const columns = ref([
  { name: 'name', label: '–ù–∞–∑–≤–∞–Ω–∏–µ —Å–º–µ—Ç—ã', field: 'name', align: 'left', sortable: false },
  { name: 'changed', label: '–ò–∑–º–µ–Ω–µ–Ω–∞', field: 'changed', align: 'left', sortable: false },
  { name: 'created', label: '–°–æ–∑–¥–∞–Ω–∞', field: 'created', align: 'left', sortable: false },
  { name: 'security', label: '–ú–æ–π –¥–æ—Å—Ç—É–ø', field: 'security', align: 'left', sortable: false },
])

const rows = ref([
  {
    id: 1,
    name: '–ù–∞–ø–æ–ª—å–Ω—ã–µ –ø–æ–∫—Ä—ã—Ç–∏—è',
    changed: '24/05/2021',
    created: '24/05/2021',
    security: ['–ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ', '–ø—Ä–æ–≥–Ω–æ–∑ —Å–∫—Ä—ã—Ç'],
  },
  {
    id: 2,
    name: '–°—Ç–µ–Ω–æ–≤—ã–µ –ø–æ–∫—Ä—ã—Ç–∏—è',
    changed: '15:35',
    created: '–ü–æ–∑–∞–≤—á–µ—Ä–∞',
    security: ['–¢–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä', '–ø—Ä–æ–≥–Ω–æ–∑ —Å–∫—Ä—ã—Ç'],
  },
])
const tables = ref([
  {},{}
])
</script>
